import * as amqplib from 'amqplib';
import { MessageHandlerOptions, RabbitMQConfig, RequestOptions } from '../rabbitmq.interfaces';
import { RpcResponse, SubscribeResponse } from './handlerResponses';
export interface CorrelationMessage {
    correlationId: string;
    message: {};
}
export declare class AmqpConnection {
    private messageSubject;
    private _connection;
    private _channel;
    private config;
    constructor(config: RabbitMQConfig);
    readonly channel: amqplib.Channel;
    readonly connection: amqplib.Connection;
    init(): Promise<void>;
    request<T extends {}>(requestOptions: RequestOptions): Promise<T>;
    createSubscriber<T>(handler: (msg: T, rawMessage?: amqplib.ConsumeMessage) => Promise<SubscribeResponse>, msgOptions: MessageHandlerOptions): Promise<void>;
    createRpc<T, U>(handler: (msg: T, rawMessage?: amqplib.ConsumeMessage) => Promise<RpcResponse<U>>, rpcOptions: MessageHandlerOptions): Promise<void>;
    publish(exchange: string, routingKey: string, message: any, options?: amqplib.Options.Publish): void;
    private initDirectReplyQueue;
}
//# sourceMappingURL=connection.d.ts.map